(this["webpackJsonpdistributed-systems"]=this["webpackJsonpdistributed-systems"]||[]).push([[0],{178:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),c=a(30),i=a.n(c),r=(a(89),a(90),a(7)),d=a(18),o=a.n(d),l=(a(110),a(62)),u=(a(35),a(36),a(20)),b=a.n(u),j=a(2);var h=function(e){var t=e.id,a=e.text,s=e.submitFunction,c=Object(n.useState)(),i=Object(r.a)(c,2),d=i[0],o=i[1],l=Object(n.useState)(),u=Object(r.a)(l,2),h=u[0],O=u[1],x=Object(n.useState)(),p=Object(r.a)(x,2),g=p[0],m=p[1],f=Object(n.useState)(),y=Object(r.a)(f,2),v=y[0],C=y[1],D=new Date(Date.now()),k=Object(n.useState)(D),S=Object(r.a)(k,2),I=S[0],w=S[1];return Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingRight:"50px",marginRight:"50px",borderRight:"#000 solid"},children:[Object(j.jsx)("h1",{children:a}),Object(j.jsx)("span",{style:{display:"block-inline"},children:"Date "}),Object(j.jsx)(b.a,{selected:I,onChange:function(e){return w(e)},name:"startDate",dateFormat:"dd/MM/yyyy",autoComplete:"off"}),Object(j.jsx)("span",{children:"User ID"}),Object(j.jsx)("input",{type:"text",id:"userid"+t,onChange:function(e){return o(e.target.value)}}),Object(j.jsx)("span",{children:"Blood glucose"}),Object(j.jsx)("input",{type:"text",id:"blood"+t,onChange:function(e){return O(e.target.value)}}),Object(j.jsx)("span",{children:"Carb intake"}),Object(j.jsx)("input",{type:"text",id:"carbon"+t,onChange:function(e){return C(e.target.value)}}),Object(j.jsx)("span",{children:"Medication dose"}),Object(j.jsx)("input",{type:"text",id:"medication"+t,onChange:function(e){return m(e.target.value)}})," ",Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(e){if(e.preventDefault(),I){var t={name:d,glucoseBlood:h,intakeCarbs:v,medicationDose:g,date:I};t.name&&t.glucoseBlood&&t.intakeCarbs&&t.medicationDose&&t.date?s(t):alert("Please put in all the data before submitting!")}else alert("Write in the date before submitting")},className:"btn",style:{background:"#90ee90"},children:" Submit"})]})},O=function(e){var t=e.baseUrl,a=e.setMean,s=(e.setMedian,e.changeCharts),c=e.username,i=e.password,d=e.userId,l=e.setUserId,u=Object(n.useState)(),h=Object(r.a)(u,2),O=h[0],x=h[1],p=Object(n.useState)(),g=Object(r.a)(p,2),m=g[0],f=g[1];return Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingRight:"50px",marginRight:"50px",borderRight:"#000 solid"},children:[Object(j.jsx)("h1",{children:"Read data"}),Object(j.jsx)("span",{style:{display:"block-inline"},children:"Starting date "}),Object(j.jsx)(b.a,{selected:O,onChange:function(e){return x(e)},name:"startDate",dateFormat:"dd/MM/yyyy",autoComplete:"off"}),Object(j.jsx)("span",{style:{display:"block-inline"},children:"Ending date"}),Object(j.jsx)(b.a,{selected:m,onChange:function(e){return f(e)},name:"startDate",dateFormat:"dd/MM/yyyy",autoComplete:"off"}),Object(j.jsx)("span",{children:"User ID"}),Object(j.jsx)("input",{type:"text",id:"userIdRead",onChange:function(e){l(e.target.value)}}),Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"checkbox",id:"allData",value:"allData",defaultChecked:!0}),Object(j.jsx)("label",{for:"allData",style:{paddingLeft:"10px"},children:"All data"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"checkbox",id:"means"}),Object(j.jsx)("label",{for:"means",style:{paddingLeft:"10px"},children:"Include average blood glucose and carb intake"})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{form:"login",onClick:function(e){e.preventDefault(),document.getElementById("allData").checked&&(O&&m?(console.log(O.getTime()),o.a.get(t,{params:{from:O.getTime(),to:m.getTime(),userId:d},auth:{username:c,password:i}}).then((function(e){s(e.data)}))):o.a.get(t,{params:{userId:d},auth:{username:c,password:i,userId:d}}).then((function(e){console.log(e),s(e.data)})).catch((function(e){console.log(e)}))),document.getElementById("means").checked&&(O&&m?o.a.get(t+"/average",{params:{from:O.getTime(),to:m.getTime()},auth:{username:c,password:i}}).then((function(e){a(e.data)})):o.a.get(t+"/average",{params:{userId:d},auth:{username:c,password:i}}).then((function(e){console.log(e.data),a(e.data)})))},className:"btn",style:{background:"#90ee90"},children:" Submit"})]})};var x=function(e){var t=e.id,a=e.text,s=e.submitFunction,c=Object(n.useState)(),i=Object(r.a)(c,2),d=i[0],o=i[1],l=Object(n.useState)(),u=Object(r.a)(l,2),h=u[0],O=u[1],x=Object(n.useState)(),p=Object(r.a)(x,2),g=p[0],m=p[1],f=Object(n.useState)(),y=Object(r.a)(f,2),v=y[0],C=y[1],D=Object(n.useState)(),k=Object(r.a)(D,2),S=k[0],I=k[1],w=new Date(Date.now()),R=Object(n.useState)(w),M=Object(r.a)(R,2),N=M[0],B=M[1];return Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingRight:"50px",marginRight:"50px",borderRight:"#000 solid"},children:[Object(j.jsx)("h1",{children:a}),Object(j.jsx)("span",{style:{display:"block-inline"},children:"Date "}),Object(j.jsx)(b.a,{selected:N,onChange:function(e){return B(e)},name:"startDate",dateFormat:"dd/MM/yyyy",autoComplete:"off"}),Object(j.jsx)("span",{children:"Record ID"}),Object(j.jsx)("input",{type:"text",id:"userid"+t,onChange:function(e){return o(e.target.value)}}),Object(j.jsx)("span",{children:"User ID"}),Object(j.jsx)("input",{type:"text",id:"userid"+t,onChange:function(e){return O(e.target.value)}}),Object(j.jsx)("span",{children:"Blood glucose"}),Object(j.jsx)("input",{type:"text",id:"blood"+t,onChange:function(e){return m(e.target.value)}}),Object(j.jsx)("span",{children:"Carb intake"}),Object(j.jsx)("input",{type:"text",id:"carbon"+t,onChange:function(e){return I(e.target.value)}}),Object(j.jsx)("span",{children:"Medication dose"}),Object(j.jsx)("input",{type:"text",id:"medication"+t,onChange:function(e){return C(e.target.value)}})," ",Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(e){if(e.preventDefault(),N){var t={name:h,glucoseBlood:g,intakeCarbs:S,medicationDose:v,date:N,recordId:d};t.name&&t.glucoseBlood&&t.intakeCarbs&&t.medicationDose&&t.date&&t.recordId?s(t):alert("Please put in all the data before submitting!")}else alert("Write in the date before submitting")},className:"btn",style:{background:"#90ee90"},children:" Submit"})]})};var p=function(){var e=Object(n.useState)(new Date(Date.now())),t=Object(r.a)(e,2),a=(t[0],t[1],Object(n.useState)("read")),s=Object(r.a)(a,2),c=s[0],i=s[1],d=Object(n.useState)(""),u=Object(r.a)(d,2),b=u[0],p=u[1],g=Object(n.useState)(""),m=Object(r.a)(g,2),f=m[0],y=m[1],v=Object(n.useState)(),C=Object(r.a)(v,2),D=C[0],k=C[1],S={year:"numeric",month:"2-digit",day:"2-digit"},I=Object(n.useState)(),w=Object(r.a)(I,2),R=(w[0],w[1]),M=Object(n.useState)({covidAdmissions:0,covidCases:0,covidDeaths:0}),N=Object(r.a)(M,2),B=(N[0],N[1]),E=Object(n.useState)({averageGlucose:0,averageIntakeCarbs:0,averageMedicationDose:0}),F=Object(r.a)(E,2),U=F[0],T=F[1],A=Object(n.useState)([1,2,3,4]),q=Object(r.a)(A,2),G=q[0],L=q[1],P=Object(n.useState)([1,2,3,4]),W=Object(r.a)(P,2),J=(W[0],W[1]),Z=Object(n.useState)([1,2,3,4]),z=Object(r.a)(Z,2),H=z[0],K=z[1],Q=Object(n.useState)([]),V=Object(r.a)(Q,2),X=V[0],Y=V[1],$={labels:X,datasets:[{label:"Carb intake in grams",data:H,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]},_={labels:X,datasets:[{label:"Blood glucose in mg",data:G,fill:!1,backgroundColor:"rgb(0, 12, 200)",borderColor:"rgba(0, 12, 200, 0.2)"}]},ee={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},te="/MyWebsite/rest/records",ae=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),a=t[0],s=t[1];return Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingRight:"50px",marginRight:"50px",borderRight:"#000 solid"},children:[Object(j.jsx)("h1",{children:"Delete data"}),Object(j.jsx)("span",{style:{display:"block-inline"},children:"Record ID "}),Object(j.jsx)("input",{type:"text",id:"text",onChange:function(e){s(e.target.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{form:"login",onClick:function(){var e;e=a,o.a.delete(te+"/"+e,{auth:{username:b,password:f}}).then((function(t){alert("Entry for date "+e+" successfully deleted")})).catch((function(t){401==t.status||403==t.status?alert("That command can only be used by admins!"):alert("An entry for date "+e+" does not exist!")}))},className:"btn",style:{background:"#90ee90"},children:" Submit"})]})};return Object(n.useEffect)((function(){var e=null;console.log(c),e=Object(j.jsx)(j.Fragment,{}),R(e)}),[c]),Object(j.jsxs)("div",{className:"grid-container",children:[Object(j.jsxs)("div",{className:"grid-item grid-item-1",children:[Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingRight:"50px",marginRight:"50px",borderRight:"#000 solid"},children:[Object(j.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),i("create")},children:"Create data"}),Object(j.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),i("read")},children:"Read data"}),Object(j.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),i("update")},children:"Update data"}),Object(j.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),i("delete")},children:"Delete data"})]}),Object(j.jsx)("div",{style:{display:"read"===c||"none"},children:Object(j.jsx)(O,{username:b,password:f,setMean:T,baseUrl:te,setMedian:B,changeCharts:function(e){console.log(e);var t=[],a=[],n=[],s=[];e.forEach((function(e){s.push(e.date),t.push(e.glucoseBlood),a.push(e.intakeCarbs),n.push(e.medicationDose)})),e.forEach((function(e){s.push(e.date),t.push(e.glucoseBlood),a.push(e.intakeCarbs),n.push(e.medicationDose)})),e.forEach((function(e){s.push(e.date),t.push(e.glucoseBlood),a.push(e.intakeCarbs),n.push(e.medicationDose)})),s=s.map((function(e){return new Date(e).toLocaleDateString("en-gb",S)})),Y(s),L(t),K(a),J(n)},userId:D,setUserId:k})}),Object(j.jsx)("div",{style:{display:"delete"===c||"none"},children:Object(j.jsx)(ae,{})}),Object(j.jsx)("div",{style:{display:"update"===c||"none"},children:Object(j.jsx)(x,{id:2,text:"Update data",submitFunction:function(e){o.a.put(te+"/"+e.recordId,e,{auth:{username:b,password:f}}).then((function(t){console.log(t),200==t.status?alert("Entry update successfully for date: "+e.date):alert("Entry for id "+e.recordId+" did not exist. New entry added for id "+e.recordId)})).catch((function(t){401==t.status||403==t.status?alert("That command can only be used by admins!"):alert("Entry for date "+e.recordId+" does not exist")}))}})}),Object(j.jsx)("div",{style:{display:"create"===c||"none"},children:Object(j.jsx)(h,{id:1,text:"Create data",submitFunction:function(e){o.a.post(te,e,{auth:{username:b,password:f}}).then((function(t){console.log(t),201==t.status&&alert("ID: "+e.id)})).catch((function(e){401==e.status||403==e.status?alert("That command is only for admins"):alert("Not modified")}))}})}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(j.jsxs)("form",{id:"login",onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsx)("h6",{children:"Type in the credentials that will be used to send the request"}),Object(j.jsx)("span",{children:"Username"}),Object(j.jsx)("input",{type:"text",id:"username",onChange:function(e){p(e.target.value)},required:!0}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{children:"Password"}),Object(j.jsx)("input",{type:"password",id:"password",onChange:function(e){y(e.target.value)},required:!0})]})}),Object(j.jsx)("div",{className:"grid-item grid-item-3",children:Object(j.jsxs)("div",{className:"grid-item mean",children:[Object(j.jsx)("h1",{children:"Average data:"}),Object(j.jsxs)("p",{children:["Blood glucose: ",Object(j.jsx)("b",{children:U.averageGlucose.toFixed(2)})]}),Object(j.jsxs)("p",{children:["Carb Intake: ",Object(j.jsx)("b",{children:U.averageIntakeCarbs.toFixed(2)})]}),Object(j.jsxs)("p",{children:["Medication dose: ",Object(j.jsx)("b",{children:U.averageMedicationDose.toFixed(2)})]})]})})]}),Object(j.jsxs)("div",{className:"grid-item grid-item-2 carb-intake",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("h4",{className:"title",children:"Carb Intake"})}),Object(j.jsx)(l.a,{data:$,options:ee})]}),Object(j.jsxs)("div",{className:"grid-item grid-item-3 blood-glucose",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("h4",{className:"title",children:"Blood Glucose"})}),Object(j.jsx)(l.a,{data:_,options:ee})]})]})};var g=function(){return Object(j.jsx)(p,{children:" "})};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))},89:function(e,t,a){},90:function(e,t,a){}},[[178,1,2]]]);
//# sourceMappingURL=main.6a58d99b.chunk.js.map